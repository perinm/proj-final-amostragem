getwd()
#--------------------
# Intala??o do pacote Data.Table
# Se n?o estiver instalado
#--------------------
if(!require(data.table)){install.packages('data.table')}
itens_2019 <- data.table::fread(input='itens_prova_2019.csv',integer64='character')
ENEM_2019 <- data.table::fread(input='microdados_ENEM_2019.csv',
integer64='character',
skip=0,  #Ler do inicio
nrow=-1, #Ler todos os registros
na.strings = "",
showProgress = TRUE)
ls
dir
ENEM_2019 <- data.table::fread(input='MICRODADOS_ENEM_2019.csv',
integer64='character',
skip=0,  #Ler do inicio
nrow=-1, #Ler todos os registros
na.strings = "",
showProgress = TRUE)
View(ENEM_2019)
ENEM_2019_MT = subset(ENEM_2019, SG_UF_RESIDENCIA=="MT")
View(ENEM_2019_MT)
ENEM_2019_MT[ENEM_2019_MT$SG_UF_RESIDENCIA == 'MT',]
ENEM_2019_MT = ENEM_2019[ENEM_2019$SG_UF_RESIDENCIA == 'MT',]
ENEM_2019_MT = subset(ENEM_2019, SG_UF_RESIDENCIA=="DF")
ENEM_2019_MT = subset(ENEM_2019, SG_UF_RESIDENCIA=="SP")
View(ENEM_2019)
sum(is.na(ENEM_2019$SG_UF_RESIDENCIA))
ENEM_2019_MT = subset(ENEM_2019, SG_UF_RESIDENCIA=="MT")
#ENEM_2019_MT = ENEM_2019[ENEM_2019$SG_UF_RESIDENCIA == 'MT',]
rm(ENEM_2019)
gc()
ls()
ENEM_2019 <- data.table::fread(input='MICRODADOS_ENEM_2019.csv',
integer64='character',
skip=0,  #Ler do inicio
nrow=-1, #Ler todos os registros
na.strings = "",
showProgress = TRUE,
encoding = 'UTF-8')
sum(is.na(ENEM_2019$SG_UF_RESIDENCIA))
ENEM_2019_MT = subset(ENEM_2019, SG_UF_RESIDENCIA=="MT")
#ENEM_2019_MT = ENEM_2019[ENEM_2019$SG_UF_RESIDENCIA == 'MT',]
rm(ENEM_2019)
gc()
View(ENEM_2019_MT)
unique(ENEM_2019_MT$CO_MUNICIPIO_RESIDENCIA)
municipios = unique(ENEM_2019_MT$CO_MUNICIPIO_RESIDENCIA)
length(ENEM_2019_MT$CO_MUNICIPIO_RESIDENCIA)
dplyr::count(ENEM_2019_MT$SG_UF_RESIDENCIA)
dplyr::count(ENEM_2019_MT, SG_UF_RESIDENCIA)
ENEM_2019 <- data.table::fread(input='MICRODADOS_ENEM_2019.csv',
integer64='character',
skip=0,  #Ler do inicio
nrow=-1, #Ler todos os registros
na.strings = "",
showProgress = TRUE,
encoding = 'UTF-8')
sum(is.na(ENEM_2019$SG_UF_RESIDENCIA))
ENEM_2019_MT = subset(ENEM_2019, SG_UF_RESIDENCIA=="MT")
#ENEM_2019_MT = ENEM_2019[ENEM_2019$SG_UF_RESIDENCIA == 'MT',]
dplyr::count(ENEM_2019, SG_UF_RESIDENCIA)
#ENEM_2019_MT = ENEM_2019[ENEM_2019$SG_UF_RESIDENCIA == 'MT',]
dplyr::count(ENEM_2019, SG_UF_RESIDENCIA)
dplyr::count(ENEM_2019, SG_UF_PROVA)
rm(ENEM_2019)
gc()
municipios = unique(ENEM_2019_MT$CO_MUNICIPIO_RESIDENCIA)
# Amostragem Estratificada
# Estimar mÃ©dia
N = length(ENEM_2019_MT)
soma_denominador = 0
soma_numerador = 0
for(municipio in municipios){
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_RESIDENCIA==municipio)
N_i = length(ENEM_2019_MT_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_MT)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador
}
B =
D = (B**2)/4
n_media = soma_numerador/ ( (N**2) + soma_denominador)
N_i
type(N_i)
typeof(N_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i,NU_NOTA_MT)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_MT, na.rm = TRUE)
soma_denominador = soma_denominador + (N_i**2)*var_i
N_i
N_i = nrow(ENEM_2019_MT_i)
N = nrow(ENEM_2019_MT)
soma_denominador = 0
soma_numerador = 0
for(municipio in municipios){
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_RESIDENCIA==municipio)
N_i = nrow(ENEM_2019_MT_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_MT, na.rm = TRUE)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador + (N_i**2)*var_i
}
B = 0.05
D = (B**2)/4
n_media = soma_numerador/ ( (N**2) + soma_denominador)
B = 0.01
D = (B**2)/4
n_media = soma_numerador/ ( (N**2) + soma_denominador)
n_media = soma_numerador/ ( (N**2)*D + soma_denominador)
B = 0.9
D = (B**2)/4
n_media = soma_numerador/ ( (N**2)*D + soma_denominador)
n_media
soma_denominador = soma_denominador + (N_i)*var_i
for(municipio in municipios){
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_RESIDENCIA==municipio)
N_i = nrow(ENEM_2019_MT_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_MT, na.rm = TRUE)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador + (N_i)*var_i
}
B = 0.01
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
B = 0.001
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
B = 0.5
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_CN, na.rm = TRUE)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador + (N_i)*var_i
for(municipio in municipios){
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_RESIDENCIA==municipio)
N_i = nrow(ENEM_2019_MT_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_CN, na.rm = TRUE)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador + (N_i)*var_i
}
B = 0.5
D = (B**2)/4
for(municipio in municipios){
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_RESIDENCIA==municipio)
N_i = nrow(ENEM_2019_MT_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_CN, na.rm = TRUE)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador + (N_i)*var_i
}
B = 0.5
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
for(municipio in municipios){
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_RESIDENCIA==municipio)
N_i = nrow(ENEM_2019_MT_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_CN)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador + (N_i)*var_i
}
View(ENEM_2019_MT_i)
municipios
N = nrow(ENEM_2019_MT)
soma_denominador = 0
soma_numerador = 0
municipios = unique(ENEM_2019_MT$CO_MUNICIPIO_PROVA)
for(municipio in municipios){
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_PROVA==municipio)
N_i = nrow(ENEM_2019_MT_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_MT, na.rm = TRUE)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador + (N_i)*var_i
}
B = 0.5
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
municipios = unique(ENEM_2019_MT$CO_MUNICIPIO_RESIDENCIA)
for(municipio in municipios){
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_PROVA==municipio)
N_i = nrow(ENEM_2019_MT_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_MT, na.rm = TRUE)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador + (N_i)*var_i
}
B = 0.5
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_RESIDENCIA==municipio)
N_i = nrow(ENEM_2019_MT_i)
for(municipio in municipios){
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_RESIDENCIA==municipio)
N_i = nrow(ENEM_2019_MT_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_MT, na.rm = TRUE)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador + (N_i)*var_i
}
B = 0.5
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
N = nrow(ENEM_2019_MT)
soma_denominador = 0
soma_numerador = 0
municipios = unique(ENEM_2019_MT$CO_MUNICIPIO_RESIDENCIA)
for(municipio in municipios){
ENEM_2019_MT_i = subset(ENEM_2019_MT, CO_MUNICIPIO_RESIDENCIA==municipio)
N_i = nrow(ENEM_2019_MT_i)
#dp_i = sd(ENEM_2019_MT_i$NU_NOTA_MT)
var_i = var(ENEM_2019_MT_i$NU_NOTA_MT, na.rm = TRUE)
w_i = N_i/N
soma_numerador = soma_numerador + ((N_i**2)*var_i)/w_i
soma_denominador = soma_denominador + (N_i)*var_i
}
B = 0.5
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
B = 0.1
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
B = 0.2
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
B = 0.1
D = (B**2)/4
n_media = soma_numerador / ( (N**2)*D + soma_denominador)
